const link=document.querySelector(".main-form-button"),popup=document.querySelector(".form-wrap"),form=popup.querySelector("form"),dateStart=popup.querySelector("[name=datestart]"),adult=popup.querySelector("[name=adult]"),children=popup.querySelector("[name=children]");let isStorageSupport=!0;const storageDateStart="";try{storageDateStart=localStorage.getItem("dateStart")}catch(t){isStorageSupport=!1}storageDateStart?(dateStart.value=storageDateStart,dateEnd.focus()):dateStart.focus(),link.addEventListener("click",function(){popup.classList.contains("form-show")?popup.classList.remove("form-show"):popup.classList.add("form-show")}),form.addEventListener("submit",function(t){adult.value&&dateStart.value?isStorageSupport&&(localStorage.setItem("dateStart",dateStart.value),localStorage.setItem("adult",adult.value),localStorage.setItem("children",children.value)):(t.preventDefault(),popup.classList.add("form-error"))}),window.addEventListener("keydown",function(t){27===t.keyCode&&popup.classList.contains("form-show")&&(t.preventDefault(),popup.classList.remove("form-show"))});
